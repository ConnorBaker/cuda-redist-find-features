# `cuda_redist_find_features`

> [!IMPORTANT]
> This file is automatically generated -- do not make edits to it. Instead, edit [README_template.md](./nix/packages/regen-readme/README_template.md) and run `nix run .#regen-readme > README.md` to regenerate this file.

## Roadmap

- \[ \] Introduce a command to produce a JSON file containing a map of lib sonames to their corresponding package names.
  - We can use this to implement a command which automatically generates information required for overrides / dependencies.
  - It must be a separate command because we want our JSON file to exist independently of the manifests.
- \[ \] Further documentation.
- \[ \] Test cases.

## Overview

This package provides a script which finds the outputs of the redistributable packages NVIDIA provides for CUDA. It does this by using `redistrib_*.json` manifests from <https://developer.download.nvidia.com/compute/cuda/redist/> (and similar) and doing the following for each package:

1. Use `nix store prefetch-file` to download a package archive to the Nix store.

   - The manifest provides SHA256 hashes for each package, so we can verify the download.
   - Additionally, providing the expected hash allows us to avoid re-downloading archives.

1. Use `nix flake prefetch` on the store path of the archive to unpack it.

   - Though an abuse of the command, it does effectively serve as a way to unpack archives into the nix store.
   - It also allows us to avoid unpacking archives multiple times by short-circuiting to the store path if it already exists.

1. Evaluate the contents of the unpacked archive to decide what outputs it provides.

   - Implemented with heuristics. For example, if a directory contains a `lib` directory with a `libfoo.a` file, we assume that the package should have an output named `static` containing all its static libraries.

1. Write a complementary JSON file containing the outputs each package should have next to the manifest passed as argument to the script.

## Usage

The script is meant to be used as part of the process of updating the manifests or supported CUDA versions in Nixpkgs. It is not meant to be used directly by users.

There are two commands:

- `download-manifests`: Download manifests from NVIDIA's website.
- `process-manifests`: Process manifests and write JSON files containing the outputs each package should have.

```console
$ nix run .# -- --help
Usage: cuda-redist-find-features [OPTIONS] COMMAND [ARGS]...

Options:
  --help  Show this message and exit.

Commands:
  download-manifests
  process-manifests
```

### `download-manifests`

```console
$ nix run .# -- download-manifests --help
Usage: cuda-redist-find-features download-manifests [OPTIONS] URL MANIFEST_DIR

Options:
  --log-level [DEBUG|INFO|WARNING|ERROR|CRITICAL]
                                  Set the logging level.  [default: WARNING]
  --no-parallel / --parallel      Disable parallel processing.  [default:
                                  parallel]
  --min-version VERSION           Minimum version to accept. Exclusive with
                                  --version.
  --max-version VERSION           Maximum version to accept. Exclusive with
                                  --version.
  --version VERSION               Version to accept. If not specified,
                                  operates on all versions. Exclusive with
                                  --min-version and --max-version.
  --help                          Show this message and exit.
```

### `process-manifests`

```console
$ nix run .# -- process-manifests --help
Usage: cuda-redist-find-features process-manifests [OPTIONS] URL MANIFEST_DIR

Options:
  --log-level [DEBUG|INFO|WARNING|ERROR|CRITICAL]
                                  Set the logging level.  [default: WARNING]
  --cleanup / --no-cleanup        Remove files after use.  [default: no-
                                  cleanup]
  --no-parallel / --parallel      Disable parallel processing.  [default:
                                  parallel]
  --min-version VERSION           Minimum version to accept. Exclusive with
                                  --version.
  --max-version VERSION           Maximum version to accept. Exclusive with
                                  --version.
  --version VERSION               Version to accept. If not specified,
                                  operates on all versions. Exclusive with
                                  --min-version and --max-version.
  --help                          Show this message and exit.
```

## Examples

### cuTensor

<details><summary>download-manifests</summary>

```console
$ nix run .# -- download-manifests https://developer.download.nvidia.com/compute/cutensor/redist cutensor_manifests --log-level INFO
Set logging level to INFO.
Using URL https://developer.download.nvidia.com/compute/cutensor/redist.
Using dir cutensor_manifests
Created logger with name cuda_redist_find_features.manifest.nvidia.manifest_ref and level 20
2023-10-03T02:20:19 INFO     [PID345543] Reading manifest from https://developer.download.nvidia.com/compute/cutensor/redist/redistrib_1.3.2.json...                                                                               manifest_ref.py:40
                    INFO     [PID345543] Reading manifest from https://developer.download.nvidia.com/compute/cutensor/redist/redistrib_1.3.3.json...                                                                               manifest_ref.py:40
                    INFO     [PID345543] Reading manifest from https://developer.download.nvidia.com/compute/cutensor/redist/redistrib_1.4.0.json...                                                                               manifest_ref.py:40
                    INFO     [PID345543] Reading manifest from https://developer.download.nvidia.com/compute/cutensor/redist/redistrib_1.5.0.json...                                                                               manifest_ref.py:40
                    INFO     [PID345543] Reading manifest from https://developer.download.nvidia.com/compute/cutensor/redist/redistrib_1.6.0.json...                                                                               manifest_ref.py:40
                    INFO     [PID345543] Reading manifest from https://developer.download.nvidia.com/compute/cutensor/redist/redistrib_1.6.1.json...                                                                               manifest_ref.py:40
                    INFO     [PID345543] Reading manifest from https://developer.download.nvidia.com/compute/cutensor/redist/redistrib_1.7.0.json...                                                                               manifest_ref.py:40
                    INFO     [PID345543] Reading manifest from https://developer.download.nvidia.com/compute/cutensor/redist/redistrib_1.6.2.json...                                                                               manifest_ref.py:40
2023-10-03T02:20:20 INFO     [PID345543] Wrote manifest to cutensor_manifests/redistrib_1.3.2.json.                                                                                                                                manifest_ref.py:70
                    INFO     [PID345543] Wrote manifest to cutensor_manifests/redistrib_1.3.3.json.                                                                                                                                manifest_ref.py:70
                    INFO     [PID345543] Wrote manifest to cutensor_manifests/redistrib_1.5.0.json.                                                                                                                                manifest_ref.py:70
                    INFO     [PID345543] Wrote manifest to cutensor_manifests/redistrib_1.6.0.json.                                                                                                                                manifest_ref.py:70
                    INFO     [PID345543] Wrote manifest to cutensor_manifests/redistrib_1.7.0.json.                                                                                                                                manifest_ref.py:70
                    INFO     [PID345543] Wrote manifest to cutensor_manifests/redistrib_1.4.0.json.                                                                                                                                manifest_ref.py:70
                    INFO     [PID345543] Wrote manifest to cutensor_manifests/redistrib_1.6.2.json.                                                                                                                                manifest_ref.py:70
                    INFO     [PID345543] Wrote manifest to cutensor_manifests/redistrib_1.6.1.json.                                                                                                                                manifest_ref.py:70
```

</details>

<details><summary>download-manifests with --version</summary>

```console
$ nix run .# -- download-manifests https://developer.download.nvidia.com/compute/cutensor/redist cutensor_manifests --log-level INFO --version 1.4.0
Set logging level to INFO.
Version set to 1.4.0.
Using URL https://developer.download.nvidia.com/compute/cutensor/redist.
Using dir cutensor_manifests
Created logger with name cuda_redist_find_features.manifest.nvidia.manifest_ref and level 20
2023-10-03T02:20:21 INFO     [PID348945] Manifest cutensor_manifests/redistrib_1.4.0.json already exists, overwriting...                                                                                                           manifest_ref.py:67
                    INFO     [PID348945] Reading manifest from https://developer.download.nvidia.com/compute/cutensor/redist/redistrib_1.4.0.json...                                                                               manifest_ref.py:40
                    INFO     [PID348945] Wrote manifest to cutensor_manifests/redistrib_1.4.0.json.                                                                                                                                manifest_ref.py:70
```

</details>

<details><summary>download-manifests with --min-version and --max-version</summary>

```console
$ nix run .# -- download-manifests https://developer.download.nvidia.com/compute/cutensor/redist cutensor_manifests --log-level INFO --min-version 1.4.0 --max-version 1.6.2
Set logging level to INFO.
Minimum version set to 1.4.0.
Maximum version set to 1.6.2.
Using URL https://developer.download.nvidia.com/compute/cutensor/redist.
Using dir cutensor_manifests
Created logger with name cuda_redist_find_features.manifest.nvidia.manifest_ref and level 20
2023-10-03T02:20:22 INFO     [PID352340] Manifest cutensor_manifests/redistrib_1.4.0.json already exists, overwriting...                                                                                                           manifest_ref.py:67
                    INFO     [PID352340] Manifest cutensor_manifests/redistrib_1.5.0.json already exists, overwriting...                                                                                                           manifest_ref.py:67
                    INFO     [PID352340] Reading manifest from https://developer.download.nvidia.com/compute/cutensor/redist/redistrib_1.4.0.json...                                                                               manifest_ref.py:40
                    INFO     [PID352340] Manifest cutensor_manifests/redistrib_1.6.0.json already exists, overwriting...                                                                                                           manifest_ref.py:67
                    INFO     [PID352340] Reading manifest from https://developer.download.nvidia.com/compute/cutensor/redist/redistrib_1.5.0.json...                                                                               manifest_ref.py:40
                    INFO     [PID352340] Manifest cutensor_manifests/redistrib_1.6.1.json already exists, overwriting...                                                                                                           manifest_ref.py:67
                    INFO     [PID352340] Manifest cutensor_manifests/redistrib_1.6.2.json already exists, overwriting...                                                                                                           manifest_ref.py:67
                    INFO     [PID352340] Reading manifest from https://developer.download.nvidia.com/compute/cutensor/redist/redistrib_1.6.0.json...                                                                               manifest_ref.py:40
                    INFO     [PID352340] Reading manifest from https://developer.download.nvidia.com/compute/cutensor/redist/redistrib_1.6.1.json...                                                                               manifest_ref.py:40
                    INFO     [PID352340] Reading manifest from https://developer.download.nvidia.com/compute/cutensor/redist/redistrib_1.6.2.json...                                                                               manifest_ref.py:40
                    INFO     [PID352340] Wrote manifest to cutensor_manifests/redistrib_1.4.0.json.                                                                                                                                manifest_ref.py:70
                    INFO     [PID352340] Wrote manifest to cutensor_manifests/redistrib_1.5.0.json.                                                                                                                                manifest_ref.py:70
                    INFO     [PID352340] Wrote manifest to cutensor_manifests/redistrib_1.6.0.json.                                                                                                                                manifest_ref.py:70
                    INFO     [PID352340] Wrote manifest to cutensor_manifests/redistrib_1.6.2.json.                                                                                                                                manifest_ref.py:70
                    INFO     [PID352340] Wrote manifest to cutensor_manifests/redistrib_1.6.1.json.                                                                                                                                manifest_ref.py:70
```

</details>

<details><summary>process-manifests</summary>

Assuming

```console
nix run .# -- download-manifests https://developer.download.nvidia.com/compute/cutensor/redist cutensor_manifests --log-level INFO --min-version 1.4.0 --max-version 1.6.2
```

was run previously,

```console
$ nix run .# -- process-manifests https://developer.download.nvidia.com/compute/cutensor/redist cutensor_manifests --log-level INFO
Set logging level to INFO.
Using URL https://developer.download.nvidia.com/compute/cutensor/redist.
Using dir cutensor_manifests
Created logger with name cuda_redist_find_features.manifest.feature.detectors.utilities._cached_path and level 20
Created logger with name cuda_redist_find_features.manifest.feature.detectors.dir and level 20
Created logger with name cuda_redist_find_features.manifest.feature.detectors.groupable_feature_detector and level 20
Created logger with name cuda_redist_find_features.manifest.feature.detectors.cuda_architectures and level 20
Created logger with name cuda_redist_find_features.manifest.feature.detectors.dynamic_library and level 20
Created logger with name cuda_redist_find_features.manifest.feature.detectors.executable and level 20
Created logger with name cuda_redist_find_features.manifest.feature.detectors.header and level 20
Created logger with name cuda_redist_find_features.manifest.feature.detectors.needed_libs and level 20
Created logger with name cuda_redist_find_features.manifest.feature.detectors.provided_libs and level 20
Created logger with name cuda_redist_find_features.manifest.feature.detectors.python_module and level 20
Created logger with name cuda_redist_find_features.manifest.feature.detectors.static_library and level 20
Created logger with name cuda_redist_find_features.manifest.nvidia.manifest_ref and level 20
Created logger with name cuda_redist_find_features.nix and level 20
Created logger with name cuda_redist_find_features.manifest.feature.package and level 20
2023-10-03T02:20:23 INFO     [PID355739] Reading manifest from cutensor_manifests/redistrib_1.3.2.json...                                                                                                                          manifest_ref.py:40
                    INFO     [PID355739] Manifest version: 1.3.2                                                                                                                                                                   manifest_ref.py:54
                    INFO     [PID355739] Manifest date: 2021-09-22                                                                                                                                                                 manifest_ref.py:55
                    INFO     [PID355739] Manifest label: unknown                                                                                                                                                                   manifest_ref.py:56
                    INFO     [PID355739] Manifest product: unknown                                                                                                                                                                 manifest_ref.py:57
                    INFO     [PID355739] Reading manifest from cutensor_manifests/redistrib_1.3.3.json...                                                                                                                          manifest_ref.py:40
                    INFO     [PID355739] Manifest version: 1.3.3                                                                                                                                                                   manifest_ref.py:54
                    INFO     [PID355739] Manifest date: 2021-09-22                                                                                                                                                                 manifest_ref.py:55
                    INFO     [PID355739] Manifest label: unknown                                                                                                                                                                   manifest_ref.py:56
                    INFO     [PID355739] Manifest product: unknown                                                                                                                                                                 manifest_ref.py:57
                    INFO     [PID355739] Reading manifest from cutensor_manifests/redistrib_1.6.2.json...                                                                                                                          manifest_ref.py:40
                    INFO     [PID355739] Manifest version: 1.6.2                                                                                                                                                                   manifest_ref.py:54
                    INFO     [PID355739] Manifest date: 2022-12-12                                                                                                                                                                 manifest_ref.py:55
                    INFO     [PID355739] Manifest label: unknown                                                                                                                                                                   manifest_ref.py:56
                    INFO     [PID355739] Manifest product: unknown                                                                                                                                                                 manifest_ref.py:57
                    INFO     [PID355739] Reading manifest from cutensor_manifests/redistrib_1.4.0.json...                                                                                                                          manifest_ref.py:40
                    INFO     [PID355739] Manifest version: 1.4.0                                                                                                                                                                   manifest_ref.py:54
                    INFO     [PID355739] Manifest date: 2021-11-19                                                                                                                                                                 manifest_ref.py:55
                    INFO     [PID355739] Manifest label: unknown                                                                                                                                                                   manifest_ref.py:56
                    INFO     [PID355739] Manifest product: unknown                                                                                                                                                                 manifest_ref.py:57
                    INFO     [PID355739] Reading manifest from cutensor_manifests/redistrib_1.6.0.json...                                                                                                                          manifest_ref.py:40
                    INFO     [PID355739] Manifest version: 1.6.0                                                                                                                                                                   manifest_ref.py:54
                    INFO     [PID355739] Manifest date: 2022-06-24                                                                                                                                                                 manifest_ref.py:55
                    INFO     [PID355739] Manifest label: unknown                                                                                                                                                                   manifest_ref.py:56
                    INFO     [PID355739] Manifest product: unknown                                                                                                                                                                 manifest_ref.py:57
                    INFO     [PID355739] Reading manifest from cutensor_manifests/redistrib_1.5.0.json...                                                                                                                          manifest_ref.py:40
                    INFO     [PID355739] Manifest version: 1.5.0                                                                                                                                                                   manifest_ref.py:54
                    INFO     [PID355739] Manifest date: 2022-03-08                                                                                                                                                                 manifest_ref.py:55
                    INFO     [PID355739] Manifest label: unknown                                                                                                                                                                   manifest_ref.py:56
                    INFO     [PID355739] Manifest product: unknown                                                                                                                                                                 manifest_ref.py:57
                    INFO     [PID355739] Reading manifest from cutensor_manifests/redistrib_1.6.1.json...                                                                                                                          manifest_ref.py:40
                    INFO     [PID355739] Manifest version: 1.6.1                                                                                                                                                                   manifest_ref.py:54
                    INFO     [PID355739] Manifest date: 2022-10-05                                                                                                                                                                 manifest_ref.py:55
                    INFO     [PID355739] Manifest label: unknown                                                                                                                                                                   manifest_ref.py:56
                    INFO     [PID355739] Manifest product: unknown                                                                                                                                                                 manifest_ref.py:57
                    INFO     [PID355739] Reading manifest from cutensor_manifests/redistrib_1.7.0.json...                                                                                                                          manifest_ref.py:40
                    INFO     [PID355739] Manifest version: 1.7.0                                                                                                                                                                   manifest_ref.py:54
                    INFO     [PID355739] Manifest date: 2023-03-16                                                                                                                                                                 manifest_ref.py:55
                    INFO     [PID355739] Manifest label: unknown                                                                                                                                                                   manifest_ref.py:56
                    INFO     [PID355739] Manifest product: unknown                                                                                                                                                                 manifest_ref.py:57
2023-10-03T02:20:23 INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.3.2.3-archive.tar.xz to the Nix store...                                  nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.3.2.3-archive.tar.xz to the Nix store...                                nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.3.2.3-archive.tar.xz to the Nix store...                                      nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.3.2.3-archive.zip to the Nix store...                                 nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.3.3.2-archive.tar.xz to the Nix store...                                  nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.3.3.2-archive.tar.xz to the Nix store...                                nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.3.3.2-archive.tar.xz to the Nix store...                                      nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.3.3.2-archive.zip to the Nix store...                                 nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.6.2.3-archive.tar.xz to the Nix store...                                  nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.6.2.3-archive.tar.xz to the Nix store...                                nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.6.2.3-archive.tar.xz to the Nix store...                                      nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.6.2.3-archive.zip to the Nix store...                                 nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.4.0.6-archive.tar.xz to the Nix store...                                  nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.4.0.6-archive.tar.xz to the Nix store...                                nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.4.0.6-archive.tar.xz to the Nix store...                                      nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.4.0.6-archive.zip to the Nix store...                                 nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.6.0.3-archive.tar.xz to the Nix store...                                  nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.6.0.3-archive.tar.xz to the Nix store...                                nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.6.0.3-archive.tar.xz to the Nix store...                                      nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.6.0.3-archive.zip to the Nix store...                                 nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.5.0.3-archive.tar.xz to the Nix store...                                  nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.5.0.3-archive.tar.xz to the Nix store...                                nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.5.0.3-archive.tar.xz to the Nix store...                                      nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.5.0.3-archive.zip to the Nix store...                                 nix.py:29
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.6.1.5-archive.tar.xz to the Nix store...                                  nix.py:29
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.3.2.3-archive.zip to the Nix store in 0 seconds.                       nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.3.3.2-archive.zip to the Nix store in 0 seconds.                       nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.6.2.3-archive.tar.xz to the Nix store in 0 seconds.                        nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.3.2.3-archive.tar.xz to the Nix store in 0 seconds.                            nix.py:47
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.6.1.5-archive.tar.xz to the Nix store...                                nix.py:29
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.3.2.3-archive.tar.xz to the Nix store in 0 seconds.                        nix.py:47
                    INFO     [PID355739] Unpacking file:///nix/store/yxam1ah0h3lp7y15kjmj7mghnik2s799-libcutensor-linux-x86_64-1.6.2.3-archive.tar.xz...                                                                                    nix.py:60
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.3.3.2-archive.tar.xz to the Nix store in 0 seconds.                        nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.6.2.3-archive.tar.xz to the Nix store in 0 seconds.                      nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.6.2.3-archive.zip to the Nix store in 0 seconds.                       nix.py:47
                    INFO     [PID355739] Unpacking file:///nix/store/8gvv8lyz2qcjasxvxbq6mi3na8j4ncf1-libcutensor-linux-ppc64le-1.6.2.3-archive.tar.xz...                                                                                   nix.py:60
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.4.0.6-archive.tar.xz to the Nix store in 0 seconds.                        nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.3.2.3-archive.tar.xz to the Nix store in 0 seconds.                      nix.py:47
                    INFO     [PID355739] Unpacking file:///nix/store/hqihs0z31dmd76ld4j7rlw3d77wmyd9m-libcutensor-linux-x86_64-1.3.3.2-archive.tar.xz...                                                                                    nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/q7jcksly352yawl1l7yzzf7l376ziwa3-libcutensor-linux-x86_64-1.4.0.6-archive.tar.xz...                                                                                    nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/1n8xrchy7im8v746vqjjj4s6jqhciv8g-libcutensor-windows-x86_64-1.3.2.3-archive.zip...                                                                                     nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/jbs6pjc4z4mn5pa392s84dad5nskysh0-libcutensor-windows-x86_64-1.3.3.2-archive.zip...                                                                                     nix.py:60
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.6.2.3-archive.tar.xz to the Nix store in 0 seconds.                            nix.py:47
                    INFO     [PID355739] Unpacking file:///nix/store/1x3z7yz7w8i30i6y6ijbn2klyzw1aij0-libcutensor-linux-ppc64le-1.3.2.3-archive.tar.xz...                                                                                   nix.py:60
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.6.1.5-archive.tar.xz to the Nix store...                                      nix.py:29
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.3.3.2-archive.tar.xz to the Nix store in 0 seconds.                      nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.4.0.6-archive.tar.xz to the Nix store in 0 seconds.                            nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.6.0.3-archive.tar.xz to the Nix store in 0 seconds.                        nix.py:47
                    INFO     [PID355739] Unpacking file:///nix/store/vbq8b32vzarri6x3scvp9prgff7szspx-libcutensor-linux-sbsa-1.3.2.3-archive.tar.xz...                                                                                      nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/0ss5gzdi3g7bmha52pqla9l29i2gmv2x-libcutensor-linux-x86_64-1.3.2.3-archive.tar.xz...                                                                                    nix.py:60
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.6.1.5-archive.zip to the Nix store...                                 nix.py:29
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.4.0.6-archive.tar.xz to the Nix store in 0 seconds.                      nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.4.0.6-archive.zip to the Nix store in 0 seconds.                       nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.6.0.3-archive.tar.xz to the Nix store in 0 seconds.                      nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.6.1.5-archive.tar.xz to the Nix store in 0 seconds.                        nix.py:47
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.7.0.1-archive.tar.xz to the Nix store...                                  nix.py:29
                    INFO     [PID355739] Unpacking file:///nix/store/kd1n6npcraidqj8yjpyr7iavjchdpgvw-libcutensor-windows-x86_64-1.6.2.3-archive.zip...                                                                                     nix.py:60
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.7.0.1-archive.tar.xz to the Nix store...                                nix.py:29
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.3.3.2-archive.tar.xz to the Nix store in 0 seconds.                            nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.5.0.3-archive.tar.xz to the Nix store in 0 seconds.                      nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.5.0.3-archive.tar.xz to the Nix store in 0 seconds.                        nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.6.0.3-archive.zip to the Nix store in 0 seconds.                       nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.5.0.3-archive.tar.xz to the Nix store in 0 seconds.                            nix.py:47
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.7.0.1-archive.tar.xz to the Nix store...                                      nix.py:29
                    INFO     [PID355739] Unpacking file:///nix/store/gj9hgzj57jvnbh9h2rvqd957366d00k8-libcutensor-linux-sbsa-1.6.2.3-archive.tar.xz...                                                                                      nix.py:60
                    INFO     [PID355739] Adding https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.7.0.1-archive.zip to the Nix store...                                 nix.py:29
                    INFO     [PID355739] Unpacking file:///nix/store/rr9mzpij9lb6ayzni2haf0vakl8jvgdf-libcutensor-linux-ppc64le-1.3.3.2-archive.tar.xz...                                                                                   nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/jkzvn343kkanvldzp0apz0570zi766xg-libcutensor-linux-sbsa-1.4.0.6-archive.tar.xz...                                                                                      nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/gyzp5pspbipp9nmn0sqdl05b01br1rl2-libcutensor-linux-x86_64-1.6.0.3-archive.tar.xz...                                                                                    nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/5b7bmhi1l35i6kqx6rwxq2hxiicshkh4-libcutensor-linux-ppc64le-1.4.0.6-archive.tar.xz...                                                                                   nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/7j2jppzd7fi00m0hhq7b2jjp363y8i7v-libcutensor-windows-x86_64-1.4.0.6-archive.zip...                                                                                     nix.py:60
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.6.0.3-archive.tar.xz to the Nix store in 0 seconds.                            nix.py:47
                    INFO     [PID355739] Unpacking file:///nix/store/897fvwmby7nc9ii3adshfn7f2f671bbs-libcutensor-linux-ppc64le-1.6.0.3-archive.tar.xz...                                                                                   nix.py:60
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.6.1.5-archive.tar.xz to the Nix store in 0 seconds.                      nix.py:47
                    INFO     [PID355739] Unpacking file:///nix/store/53hp68861qra26fcb8gac7g18lswwbrg-libcutensor-linux-x86_64-1.6.1.5-archive.tar.xz...                                                                                    nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/syxzdnwk6bik6kc2p559lga3wbs9wr0n-libcutensor-linux-sbsa-1.3.3.2-archive.tar.xz...                                                                                      nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/9fy3afhldjlgigyc09348nc50ccr7kq1-libcutensor-linux-ppc64le-1.5.0.3-archive.tar.xz...                                                                                   nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/k5xq37i1j3w710ppy8v0qqg91pkdxflc-libcutensor-linux-x86_64-1.5.0.3-archive.tar.xz...                                                                                    nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/ccl9i73nxn1vp47wq8a5mpnp68khdz2z-libcutensor-windows-x86_64-1.6.0.3-archive.zip...                                                                                     nix.py:60
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.5.0.3-archive.zip to the Nix store in 0 seconds.                       nix.py:47
                    INFO     [PID355739] Unpacking file:///nix/store/5vb91ij9n4rbc0zj6118flzbx1dp3n8j-libcutensor-linux-sbsa-1.5.0.3-archive.tar.xz...                                                                                      nix.py:60
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.6.1.5-archive.tar.xz to the Nix store in 0 seconds.                            nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.6.1.5-archive.zip to the Nix store in 0 seconds.                       nix.py:47
                    INFO     [PID355739] Unpacking file:///nix/store/0fldgjlk64r6yfs383ra9kmqqhydjyxx-libcutensor-linux-sbsa-1.6.0.3-archive.tar.xz...                                                                                      nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/mcdm0ifn6lwnbrqskki5jnvrzs07vkpb-libcutensor-linux-ppc64le-1.6.1.5-archive.tar.xz...                                                                                   nix.py:60
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-x86_64/libcutensor-linux-x86_64-1.7.0.1-archive.tar.xz to the Nix store in 0 seconds.                        nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-sbsa/libcutensor-linux-sbsa-1.7.0.1-archive.tar.xz to the Nix store in 0 seconds.                            nix.py:47
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/linux-ppc64le/libcutensor-linux-ppc64le-1.7.0.1-archive.tar.xz to the Nix store in 0 seconds.                      nix.py:47
                    INFO     [PID355739] Unpacking file:///nix/store/66s6g8dx81akm36p1fh8vz4r3m2dqjjm-libcutensor-windows-x86_64-1.5.0.3-archive.zip...                                                                                     nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/qz1hpcq6nxv0z0n0p1rjdg2ag2kyi7g1-libcutensor-linux-sbsa-1.6.1.5-archive.tar.xz...                                                                                      nix.py:60
                    INFO     [PID355739] Added https://developer.download.nvidia.com/compute/cutensor/redist/libcutensor/windows-x86_64/libcutensor-windows-x86_64-1.7.0.1-archive.zip to the Nix store in 0 seconds.                       nix.py:47
                    INFO     [PID355739] Unpacking file:///nix/store/z7dfb3ydp8c280yqgbk3shxs6adanqi3-libcutensor-windows-x86_64-1.6.1.5-archive.zip...                                                                                     nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/spqx52qx2g7g7gr805870j9csvg6f3h0-libcutensor-linux-sbsa-1.7.0.1-archive.tar.xz...                                                                                      nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/wzffa3ih9157qvp25i1awmw9x7zwqgfg-libcutensor-linux-x86_64-1.7.0.1-archive.tar.xz...                                                                                    nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/7la6i8zid632wsmimn2n0bya7kz0j5hm-libcutensor-linux-ppc64le-1.7.0.1-archive.tar.xz...                                                                                   nix.py:60
                    INFO     [PID355739] Unpacking file:///nix/store/j01j34lbnzj7pgg1prbavxm9l1zrpb42-libcutensor-windows-x86_64-1.7.0.1-archive.zip...                                                                                     nix.py:60
2023-10-03T02:20:34 INFO     [PID355739] Unpacked file:///nix/store/vbq8b32vzarri6x3scvp9prgff7szspx-libcutensor-linux-sbsa-1.3.2.3-archive.tar.xz in 10 seconds.                                                                           nix.py:68
2023-10-03T02:20:38 INFO     [PID355739] Unpacked file:///nix/store/5vb91ij9n4rbc0zj6118flzbx1dp3n8j-libcutensor-linux-sbsa-1.5.0.3-archive.tar.xz in 14 seconds.                                                                           nix.py:68
2023-10-03T02:20:40 INFO     [PID355739] Unpacked file:///nix/store/syxzdnwk6bik6kc2p559lga3wbs9wr0n-libcutensor-linux-sbsa-1.3.3.2-archive.tar.xz in 16 seconds.                                                                           nix.py:68
2023-10-03T02:20:44 INFO     [PID355739] Unpacked file:///nix/store/jkzvn343kkanvldzp0apz0570zi766xg-libcutensor-linux-sbsa-1.4.0.6-archive.tar.xz in 20 seconds.                                                                           nix.py:68
2023-10-03T02:20:52 INFO     [PID355739] Unpacked file:///nix/store/1n8xrchy7im8v746vqjjj4s6jqhciv8g-libcutensor-windows-x86_64-1.3.2.3-archive.zip in 28 seconds.                                                                          nix.py:68
2023-10-03T02:20:55 INFO     [PID355739] Unpacked file:///nix/store/hqihs0z31dmd76ld4j7rlw3d77wmyd9m-libcutensor-linux-x86_64-1.3.3.2-archive.tar.xz in 31 seconds.                                                                         nix.py:68
2023-10-03T02:20:58 INFO     [PID355739] Unpacked file:///nix/store/jbs6pjc4z4mn5pa392s84dad5nskysh0-libcutensor-windows-x86_64-1.3.3.2-archive.zip in 34 seconds.                                                                          nix.py:68
2023-10-03T02:21:00 INFO     [PID355739] Unpacked file:///nix/store/9fy3afhldjlgigyc09348nc50ccr7kq1-libcutensor-linux-ppc64le-1.5.0.3-archive.tar.xz in 36 seconds.                                                                        nix.py:68
2023-10-03T02:21:02 INFO     [PID355739] Unpacked file:///nix/store/1x3z7yz7w8i30i6y6ijbn2klyzw1aij0-libcutensor-linux-ppc64le-1.3.2.3-archive.tar.xz in 39 seconds.                                                                        nix.py:68
2023-10-03T02:21:03 INFO     [PID355739] Unpacked file:///nix/store/0ss5gzdi3g7bmha52pqla9l29i2gmv2x-libcutensor-linux-x86_64-1.3.2.3-archive.tar.xz in 40 seconds.                                                                         nix.py:68
2023-10-03T02:21:06 INFO     [PID355739] Unpacked file:///nix/store/rr9mzpij9lb6ayzni2haf0vakl8jvgdf-libcutensor-linux-ppc64le-1.3.3.2-archive.tar.xz in 42 seconds.                                                                        nix.py:68
2023-10-03T02:21:08 INFO     [PID355739] Unpacked file:///nix/store/k5xq37i1j3w710ppy8v0qqg91pkdxflc-libcutensor-linux-x86_64-1.5.0.3-archive.tar.xz in 45 seconds.                                                                         nix.py:68
2023-10-03T02:21:12 INFO     [PID355739] Unpacked file:///nix/store/q7jcksly352yawl1l7yzzf7l376ziwa3-libcutensor-linux-x86_64-1.4.0.6-archive.tar.xz in 48 seconds.                                                                         nix.py:68
2023-10-03T02:21:14 INFO     [PID355739] Unpacked file:///nix/store/66s6g8dx81akm36p1fh8vz4r3m2dqjjm-libcutensor-windows-x86_64-1.5.0.3-archive.zip in 50 seconds.                                                                          nix.py:68
2023-10-03T02:21:17 INFO     [PID355739] Unpacked file:///nix/store/5b7bmhi1l35i6kqx6rwxq2hxiicshkh4-libcutensor-linux-ppc64le-1.4.0.6-archive.tar.xz in 53 seconds.                                                                        nix.py:68
2023-10-03T02:21:19 INFO     [PID355739] Unpacked file:///nix/store/0fldgjlk64r6yfs383ra9kmqqhydjyxx-libcutensor-linux-sbsa-1.6.0.3-archive.tar.xz in 55 seconds.                                                                           nix.py:68
2023-10-03T02:21:21 INFO     [PID355739] Unpacked file:///nix/store/qz1hpcq6nxv0z0n0p1rjdg2ag2kyi7g1-libcutensor-linux-sbsa-1.6.1.5-archive.tar.xz in 57 seconds.                                                                           nix.py:68
2023-10-03T02:21:23 INFO     [PID355739] Unpacked file:///nix/store/7j2jppzd7fi00m0hhq7b2jjp363y8i7v-libcutensor-windows-x86_64-1.4.0.6-archive.zip in 60 seconds.                                                                          nix.py:68
2023-10-03T02:21:34 INFO     [PID355739] Unpacked file:///nix/store/gyzp5pspbipp9nmn0sqdl05b01br1rl2-libcutensor-linux-x86_64-1.6.0.3-archive.tar.xz in 70 seconds.                                                                         nix.py:68
2023-10-03T02:21:36 INFO     [PID355739] Unpacked file:///nix/store/897fvwmby7nc9ii3adshfn7f2f671bbs-libcutensor-linux-ppc64le-1.6.0.3-archive.tar.xz in 72 seconds.                                                                        nix.py:68
2023-10-03T02:21:40 INFO     [PID355739] Unpacked file:///nix/store/53hp68861qra26fcb8gac7g18lswwbrg-libcutensor-linux-x86_64-1.6.1.5-archive.tar.xz in 76 seconds.                                                                         nix.py:68
2023-10-03T02:21:44 INFO     [PID355739] Unpacked file:///nix/store/mcdm0ifn6lwnbrqskki5jnvrzs07vkpb-libcutensor-linux-ppc64le-1.6.1.5-archive.tar.xz in 80 seconds.                                                                        nix.py:68
2023-10-03T02:21:52 INFO     [PID355739] Unpacked file:///nix/store/gj9hgzj57jvnbh9h2rvqd957366d00k8-libcutensor-linux-sbsa-1.6.2.3-archive.tar.xz in 88 seconds.                                                                           nix.py:68
2023-10-03T02:21:53 INFO     [PID355739] Unpacked file:///nix/store/ccl9i73nxn1vp47wq8a5mpnp68khdz2z-libcutensor-windows-x86_64-1.6.0.3-archive.zip in 89 seconds.                                                                          nix.py:68
2023-10-03T02:21:54 INFO     [PID355739] Unpacked file:///nix/store/z7dfb3ydp8c280yqgbk3shxs6adanqi3-libcutensor-windows-x86_64-1.6.1.5-archive.zip in 90 seconds.                                                                          nix.py:68
2023-10-03T02:21:57 INFO     [PID355739] Unpacked file:///nix/store/spqx52qx2g7g7gr805870j9csvg6f3h0-libcutensor-linux-sbsa-1.7.0.1-archive.tar.xz in 93 seconds.                                                                           nix.py:68
2023-10-03T02:22:04 INFO     [PID355739] Unpacked file:///nix/store/yxam1ah0h3lp7y15kjmj7mghnik2s799-libcutensor-linux-x86_64-1.6.2.3-archive.tar.xz in 100 seconds.                                                                        nix.py:68
2023-10-03T02:22:15 INFO     [PID355739] Unpacked file:///nix/store/7la6i8zid632wsmimn2n0bya7kz0j5hm-libcutensor-linux-ppc64le-1.7.0.1-archive.tar.xz in 112 seconds.                                                                       nix.py:68
2023-10-03T02:22:16 INFO     [PID355739] Unpacked file:///nix/store/wzffa3ih9157qvp25i1awmw9x7zwqgfg-libcutensor-linux-x86_64-1.7.0.1-archive.tar.xz in 113 seconds.                                                                        nix.py:68
2023-10-03T02:22:18 INFO     [PID355739] Unpacked file:///nix/store/8gvv8lyz2qcjasxvxbq6mi3na8j4ncf1-libcutensor-linux-ppc64le-1.6.2.3-archive.tar.xz in 114 seconds.                                                                       nix.py:68
2023-10-03T02:22:20 INFO     [PID355739] Unpacked file:///nix/store/kd1n6npcraidqj8yjpyr7iavjchdpgvw-libcutensor-windows-x86_64-1.6.2.3-archive.zip in 116 seconds.                                                                         nix.py:68
2023-10-03T02:22:21 INFO     [PID355739] Unpacked file:///nix/store/j01j34lbnzj7pgg1prbavxm9l1zrpb42-libcutensor-windows-x86_64-1.7.0.1-archive.zip in 117 seconds.                                                                         nix.py:68
```

</details>
